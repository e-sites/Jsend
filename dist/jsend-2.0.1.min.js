!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.JSend=e()}}(function(){return function e(t,r,n){function o(s,u){if(!r[s]){if(!t[s]){var i="function"==typeof require&&require;if(!u&&i)return i(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var f=r[s]={exports:{}};t[s][0].call(f.exports,function(e){var r=t[s][1][e];return o(r?r:e)},f,f.exports,e,t,r,n)}return r[s].exports}for(var a="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,t,r){!function(){"use strict";var r=function(){var t=e("./request"),r=e("./merge"),n={type:"get",data:"",timeout:0,headers:{}},o=["get","post","jsonp"],a={};return a.request=function(e){var o=r(n,e);return t(o)},o.forEach(function(e){var t=function(t){var t=r(n,t);return t.type=e,this.request(t)};a[e]=t}),a}();t.exports=r}()},{"./merge":5,"./request":6}],2:[function(e,t,r){!function(){"use strict";var r=e("./merge"),n=e("./error"),o=function(e,t){var o,a,s,u={timeout:0,headers:{"Content-Type":"application/x-www-form-urlencoded"}},i=function(){var e=navigator.userAgent.match(/MSIE (.{3}?);/);return null!==e&&Number(e[e.length-1])<=8}(),c=i?"onreadystatechange":"onload",f=r(u,e),d=!1;f.type=f.type.toLowerCase();try{o=new URL(f.url)}catch(p){o=f.url}a=!o.location||window.location.hostname===o.hostname&&window.location.port===o.port||"withCredentials"in new XMLHttpRequest?new XMLHttpRequest:new XDomainRequest,a.open(f.type,o),"get"===f.type&&a.setRequestHeader("Content-Type",'application/json; charset="utf-8"');for(var l in f.headers)f.headers.hasOwnProperty(l)&&a.setRequestHeader(l,f.headers[l]);a.timeout=f.timeout,a.ontimeout=function(){d=!0,s={status:"error",message:n(a,"timeout")},t(s,a)},a[c]=function(){if(4===a.readyState&&!d){if(!a.status||(a.status<200||a.status>=300)&&304!==a.status)s={status:"error",message:n(a)};else try{s=JSON.parse(a.responseText)}catch(e){s={status:"error",message:n(a,e)}}t(s,a)}},a.send(f.data)};t.exports=o}()},{"./error":3,"./merge":5}],3:[function(e,t,r){!function(){"use strict";var e=function(e,t){var r="",t=t||{};return r="timeout"===t?"Timeout error.":t.hasOwnProperty("message")?t.message+".":0===e.status?"Can't connect. Verify network.":400===e.status?"Bad Request [400].":403===e.status?"URL Forbidden [403].":404===e.status?"URL Not Found [404].":500===e.status?"Internal Server Error [500].":e.responseText+" ["+e.status+"]."};t.exports=e}()},{}],4:[function(e,t,r){!function(){"use strict";var e,r=function(t,r){var n="jsend"+Math.round(1e3*Math.random()),o=document.createElement("script"),a=-1===t.url.indexOf("?")?t.url+"?callback="+n:t.url+"&callback=JSend.callbacks."+n;window.JSend.callbacks=window.JSend.callbacks||{},o.onerror=function(t){"error"===t.type&&(e={status:"error",message:"Error loading script"},r(e))},o.src=a,document.head.appendChild(o),window.JSend.callbacks[n]=function(e){r(e),delete window.JSend.callbacks[n]}};t.exports=r}()},{}],5:[function(e,t,r){!function(){"use strict";var e=function r(e,t){var n=Array.isArray(t),o=n&&[]||{};return n?(e=e||[],o=o.concat(e),t.forEach(function(t,n){"object"==typeof t?o[n]=r(e[n],t):-1===e.indexOf(t)&&o.push(t)})):(e&&"object"==typeof e&&Object.keys(e).forEach(function(t){o[t]=e[t]}),Object.keys(t).forEach(function(n){"object"==typeof t[n]&&t[n]&&e[n]?o[n]=r(e[n],t[n]):o[n]=t[n]})),o};t.exports=e}()},{}],6:[function(e,t,r){!function(){"use strict";var r,n=e("./serialize"),o=e("./validate"),a=e("./ajax"),s={get:a,post:a,jsonp:e("./jsonp")};r=function(e){var t;if(e.type=e.type.toLowerCase(),!Promise)throw new Error("JSend requires `Promise`, please provide a polyfill");return e.data="string"==typeof e.data?e.data:n(e.data),"get"!==e.type&&"jsonp"!==e.type||!e.data||(e.url=-1===e.url.indexOf("?")?e.url+"?"+e.data:e.url+"&"+e.data,e.data=null),t=new Promise(function(t,r){s[e.type](e,function(e,n){o(e,n,t,r)})})},t.exports=r}()},{"./ajax":2,"./jsonp":4,"./serialize":7,"./validate":8}],7:[function(e,t,r){!function(){"use strict";var e=function(e){var t=encodeURIComponent,r=[];if("object"!=typeof e)throw new TypeError("expected data to be of type object");for(var n in e)e.hasOwnProperty(n)&&r.push(t(n)+"="+t(e[n]));return r.join("&")};t.exports=e}()},{}],8:[function(e,t,r){!function(){"use strict";var r,n=e("./error"),r=function(e,t,r,o){function a(e){if(e&&e.hasOwnProperty("status")){if(("success"===e.status||"fail"===e.status)&&e.hasOwnProperty("data"))return!0;if("error"===e.status&&e.hasOwnProperty("message"))return!0}return!1}a(e)?"success"===e.status?r(e):o(e):(e={status:"error",message:n(t,e)},o(e))};t.exports=r}()},{"./error":3}]},{},[1])(1)});
//# sourceMappingURL=jsend-2.0.1.min.js.map
